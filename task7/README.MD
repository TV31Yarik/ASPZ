
# ЗАВДАННЯ ЗАГАЛЬНЕ ДЛЯ ВСІХ
## 7.1  Використання popen(),
### Умова 
 Використайте popen(), щоб передати вивід команди rwho (команда UNIX) до more (команда UNIX) у програмі на C.

### Пояснення 
Функція popen() відкриває процес і повертає FILE*, що дозволяє читати або писати в конвеєр команд. У цьому випадку команда "rwho | more" передає вивід rwho через конвеєр у more, який посторінково виводить інформацію.

Режим "r" в popen() означає, що програма буде читати вивід команди.
У циклі fgets() послідовно читаємо рядки з виводу команди, а fputs() виводить їх на екран.
Функція pclose() закриває конвеєр і звільняє ресурси.

### [КОД](task7.1/main.c)<br>
![](task7.1/Screenshot%20from%202025-05-17%2014-59-30.png)

## 7.2  імітація команди ls -l в UNIX
### Умова 
 Напишіть програму мовою C, яка імітує команду ls -l в UNIX — виводить список усіх файлів у поточному каталозі та перелічує права доступу тощо.
 (Варіант вирішення, що просто виконує ls -l із вашої програми, — не підходить.)
### Пояснення 
Ця програма імітує базову функціональність команди ls -l, перелічуючи файли в поточному каталозі з інформацією про права доступу, власника, групу, розмір та дату останньої модифікації. opendir(".") відкриває поточний каталог для читання. readdir() послідовно повертає записи файлів каталогу. stat() отримує метадані про кожен файл (права, власник, група, розмір, час). Функція print_permissions() формує рядок із символів, що відповідають правам доступу (rwx) та типу файлу (папка чи файл). getpwuid() і getgrgid() повертають імена власника та групи по їх ID. Форматування часу здійснюється через strftime(), щоб вивести зручний формат дати та часу. Вивід усієї інформації здійснюється в рядок, схожий на формат ls -l.
### [КОД](task7.2/main.c)<br>
![](task7.2/Screenshot%20from%202025-05-17%2015-01-12.png)

## 7.3 проста версія утиліти grep в UNIX
### Умова 
 Напишіть програму, яка друкує рядки з файлу, що містять слово, передане як аргумент програми (проста версія утиліти grep в UNIX).
### Пояснення 
Ця програма реалізує просту версію утиліти grep, яка шукає рядки у файлі, що містять задане слово, передане як аргумент командного рядка. Спочатку перевіряється коректність кількості аргументів. Потім відкривається файл для читання за допомогою fopen(). У циклі fgets() по рядках читаються дані з файлу. За допомогою функції strstr() перевіряється наявність шуканого слова у рядку. Якщо слово знайдено, рядок виводиться на екран. Після обробки усіх рядків файл закривається функцією fclose().

### [КОД](task7.3/main.c)<br>
![](task7.3/Screenshot%20from%202025-05-17%2015-10-08.png)

## 7.4 (спрощена версія утиліти more в UNIX)
### Умова 
 Напишіть програму, яка виводить список файлів, заданих у вигляді аргументів, з зупинкою кожні 20 рядків, доки не буде натиснута клавіша (спрощена версія утиліти more в UNIX).

### Пояснення
Ця програма реалізує спрощену версію утиліти more, яка виводить вміст файлів, заданих як аргументи командного рядка, по 20 рядків за раз. Якщо аргументи відсутні, виводиться підказка про використання. Для кожного файлу відкривається потік читання через fopen(). У циклі fgets() послідовно читаються рядки файлу і виводяться на екран. Після кожних 20 рядків викликається функція wait_for_key(), яка чекає натискання клавіші від користувача перед продовженням виводу. Після завершення читання файл закривається. Якщо файл не вдалося відкрити, виводиться повідомлення про помилку і програма переходить до наступного файлу.

### [КОД](task7.4/main.c)<br>
![](task7.4/Screenshot%20from%202025-05-17%2015-18-18.png)<br>

![](task7.4/Screenshot%20from%202025-05-17%2015-18-28.png)

## 7.5  перелік всіх файлів в поточному каталозі
### Умова 
Напишіть програму, яка перелічує всі файли в поточному каталозі та всі файли в підкаталогах.

### Пояснення
Ця програма рекурсивно перелічує всі файли в поточному каталозі та в усіх його підкаталогах. Функція list_files відкриває каталог за заданим шляхом за допомогою opendir(). Далі за допомогою readdir() читаються записи каталогу. Пропускаються записи "." і "..", що посилаються на поточний та батьківський каталоги. Для кожного запису формується повний шлях за допомогою snprintf(). Виконується stat() для отримання інформації про тип файлу. Якщо це файл, його шлях виводиться на екран. Якщо це каталог, викликається рекурсивно list_files для цього підкаталогу. Після обробки усіх записів каталог закривається через closedir(). У main() викликається list_files для поточного каталогу ".".

### [КОД](task7.5/main.c)<br>
![](task7.5/Screenshot%20from%202025-05-17%2015-25-05.png)

## 7.6 перелічує лише підкаталоги у алфавітному порядку.
### Умова 
Напишіть програму, яка перелічує лише підкаталоги у алфавітному порядку.

### Пояснення
Програма відкриває поточну папку і читає всі записи в ній. Для кожного запису перевіряє, чи це підпапка (і пропускає "." та ".."). Імена таких папок зберігає у списку. Потім цей список сортує за алфавітом і виводить імена підпапок на екран. Наприкінці очищає пам’ять і закриває папку.

### [КОД](task7.6/main.c)<br>
![](task7.6/Screenshot%20from%202025-05-17%2015-32-53.png)

## 7.7 програми на C
### Умова 
 Напишіть програму, яка показує користувачу всі його/її вихідні програми на C, а потім в інтерактивному режимі запитує, чи потрібно надати іншим дозвіл на читання (read permission); у разі ствердної відповіді — такий дозвіл повинен бути наданий.

### Пояснення
Програма відкриває поточний каталог і шукає всі файли з розширенням ".c". Для кожного такого файлу вона виводить його ім’я і питає користувача, чи хоче він надати іншим користувачам дозвіл на читання. Якщо користувач вводить «y», програма змінює права доступу файлу, додаючи дозвіл на читання для інших (S_IROTH). Після цього виводиться повідомлення про успішну зміну. Наприкінці каталог закривається і програма завершує роботу.

### [КОД](task7.7/main.c)<br>
![](task7.7/Screenshot%20from%202025-05-17%2015-37-25.png)

## 7.8 можливість видалити будь-який або всі файли
### Умова 
Напишіть програму, яка надає користувачу можливість видалити будь-який або всі файли у поточному робочому каталозі. Має з’являтися ім’я файлу з запитом, чи слід його видалити

### Пояснення
Програма відкриває поточний каталог і послідовно читає усі записи у ньому за допомогою функції readdir(). Для кожного запису вона виконує перевірку через stat(), щоб переконатися, що це звичайний файл (не каталог чи інший тип). Якщо файл знайдено, програма виводить ім’я цього файлу і питає користувача, чи слід його видалити, чекаючи відповіді у вигляді символу 'y' або 'n'. Якщо користувач вводить 'y', виконується видалення файлу за допомогою функції remove(). У разі успішного видалення на екран виводиться повідомлення "Файл видалено.", а якщо сталася помилка — виводиться повідомлення про помилку. Після опрацювання усіх файлів каталог закривається функцією closedir(), і програма завершує роботу. Таким чином користувач має змогу вибірково або повністю видалити файли в поточній директорії.

### [КОД](task7.8/main.c)<br>
![](task7.8/Screenshot%20from%202025-05-17%2015-41-09.png)


## 7.9  час виконання фрагмента коду в мілісекундах.
### Умова 
 Напишіть програму на C, яка вимірює час виконання фрагмента коду в мілісекундах.


### Пояснення
Програма використовує функцію clock_gettime() з параметром CLOCK_MONOTONIC для точного вимірювання часу. Спочатку вона зберігає поточний час у змінну start перед виконанням фрагмента коду, який потрібно виміряти (у цьому випадку — порожній цикл з великою кількістю ітерацій). Після виконання коду вона знову викликає clock_gettime(), щоб отримати час у змінну end. Різницю між кінцевим та початковим часом вона обчислює у мілісекундах, використовуючи секунди і наносекунди, перетворені у мілісекунди. Потім програма виводить результат — тривалість виконання фрагмента коду у мілісекундах.

### [КОД](task7.9/main.c)<br>
![](task7.9/Screenshot%20from%202025-05-17%2015-42-39.png)

## 7.10  створення послідовності випадкових чисел з плаваючою комою у діапазонах
### Умова 
Напишіть програму мовою C для створення послідовності випадкових чисел з плаваючою комою у діапазонах:
 (a) від 0.0 до 1.0
 (b) від 0.0 до n, де n — будь-яке дійсне число з плаваючою точкою.
 Початкове значення генератора випадкових чисел має бути встановлене так, щоб гарантувати унікальну послідовність.


### Пояснення
Програма створює випадкові числа з плаваючою комою у двох діапазонах. Спочатку в main() викликається srand(time(NULL)), щоб встановити початкове значення генератора випадкових чисел на основі поточного часу — це гарантує унікальність послідовності при кожному запуску програми. Функція random_float_0_1() повертає випадкове число від 0.0 до 1.0, ділячи результат rand() на RAND_MAX і перетворюючи до типу float. Функція random_float_0_n(float n) використовує random_float_0_1() і множить результат на n, щоб отримати випадкове число у діапазоні від 0.0 до n, де n — будь-яке дійсне число з плаваючою точкою. У main() демонструється робота обох функцій, виводячи випадкові числа з відповідних діапазонів. Такий підхід дозволяє легко генерувати випадкові числа у потрібних межах, а початок генерації на основі часу забезпечує, що послідовність випадкових чисел буде різною щоразу.

### [КОД](task7.10/main.c)<br>
![](task7.10/Screenshot%20from%202025-05-17%2015-44-40.png)


# Завдання по ВАРІАНТАХ
## 4. job queue
### Умова 
Напишіть програму, яка імітує роботу черги задач (job queue), з підтримкою паузи, скасування та відновлення, але без використання потоків або сигналів.

### Пояснення
Ця програма створює чергу задач, в якій можна додавати нові задачі з унікальним номером і назвою. Кожна задача має статус — очікує, виконується, на паузі, скасована або завершена, а також показує відсоток свого виконання. Користувач може додавати задачі, переглядати список усіх задач з їх статусами та прогресом. Програма дозволяє обробляти задачі — вона знаходить першу задачу, яка ще не завершена, ставить її у стан виконання і збільшує прогрес на 10%. Якщо прогрес досягає 100%, задача вважається завершеною. Також є можливість ставити задачу на паузу, відновлювати її або скасовувати, якщо вона ще не завершена. Всі ці операції відбуваються послідовно, без багатопотоковості, тобто прогрес задач оновлюється лише тоді, коли користувач вибирає обробку черги. Програма працює через меню, де користувач вибирає потрібну дію, вводить назву або номер задачі і бачить відповідні повідомлення про стан задач.

### [КОД](task4/main.c)<br>
![](task4/Screenshot%20from%202025-05-17%2016-08-08.png)
![](task4/Screenshot%20from%202025-05-17%2016-08-16.png)
![](task4/Screenshot%20from%202025-05-17%2016-08-25.png)
![](task4/Screenshot%20from%202025-05-17%2016-08-31.png)
![](task4/Screenshot%20from%202025-05-17%2016-08-37.png)
![](task4/Screenshot%20from%202025-05-17%2016-08-46.png)
![](task4/Screenshot%20from%202025-05-17%2016-08-53.png)
