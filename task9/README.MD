# ЗАВДАННЯ ЗАГАЛЬНЕ ДЛЯ ВСІХ
## 9.1  читає файл /etc/passwd за допомогою команди getent passwd
### Умова 
Напишіть програму, яка читає файл /etc/passwd за допомогою команди getent passwd, щоб дізнатись, які облікові записи визначені на вашому комп’ютері.
 Програма повинна визначити, чи є серед них звичайні користувачі (ідентифікатори UID повинні бути більші за 500 або 1000, залежно від вашого дистрибутива), окрім вас.


### Пояснення 
Програма відкриває потік командою getent passwd, яка виводить всі записи користувачів із системи. Далі вона читає цей вивід построково, розбиває кожен рядок на поля за двокрапкою, зокрема отримує ім’я користувача та його UID. Потім перевіряє, чи UID більший за 1000 (умова для звичайних користувачів у багатьох дистрибутивах Linux), і чи це не поточний користувач (щоб не враховувати самого себе). Якщо знаходить такого користувача, виводить його ім’я і UID і позначає, що інші користувачі знайдені. Якщо після проходження всіх записів звичайних користувачів крім поточного не знайдено, виводить відповідне повідомлення. Таким чином програма автоматично визначає наявність інших звичайних користувачів у системі.

### [КОД](task9.1/main.c)<br>
![](task9.1/Screenshot%20from%202025-05-17%2016-46-34.png)

## 9.2  виконує команду cat /etc/shadow від імені адміністратора
### Умова 
 Напишіть програму, яка виконує команду cat /etc/shadow від імені адміністратора, хоча запускається від звичайного користувача.
 (Ваша програма повинна робити необхідне, виходячи з того, що конфігурація системи дозволяє отримувати адміністративний доступ за допомогою відповідної команди.)

### Пояснення 
Програма намагається виконати команду "sudo cat /etc/shadow" через popen, щоб прочитати файл з правами адміністратора, але якщо система не налаштована так, що користувачу дозволено запускати sudo без пароля, то під час виконання з’явиться запит на введення пароля або помилка доступу. Через це програма не зможе прочитати файл, якщо пароль не буде введений вручну
### [КОД](task9.2/main.c)<br>
![](task9.2/Screenshot%20from%202025-05-17%2016-49-43.png)
![](task9.2/Screenshot%20from%202025-05-17%2016-50-08.png)
![](task9.2/Screenshot%20from%202025-05-17%2016-50-16.png)

## 9.3 напишіть програму, яка від імені root копіює файл
### Умова 
 Напишіть програму, яка від імені root копіює файл, який вона перед цим створила від імені звичайного користувача. Потім вона повинна помістити копію у домашній каталог звичайного користувача.
 Далі, використовуючи звичайний обліковий запис, програма намагається змінити файл і зберегти зміни. Що відбудеться?
 Після цього програма намагається видалити цей файл за допомогою команди rm. Що відбудеться?
### Пояснення 
Спочатку програма створює файл від імені звичайного користувача. Потім за допомогою sudo копіює цей файл у домашній каталог користувача, змінює власника файлу на root і встановлює права доступу 600 (читання і запис тільки для root). Після цього програма намагається відкрити цей файл для дозапису звичайним користувачем. Оскільки права доступу встановлені так, що лише root має доступ, відкриття файлу для запису звичайним користувачем не вдасться, і буде помилка. Аналогічно, при спробі видалити цей файл звичайним користувачем операція не пройде, тому що файл належить root і має обмежені права, а також користувач не має права видаляти файл у своєму каталозі, якщо не має відповідних дозволів. Отже, зміна і видалення файлу звичайним користувачем будуть заблоковані через права доступу і власника файлу.

### [КОД](task9.3/main.c)<br>
![](task9.3/Screenshot%20from%202025-05-17%2016-55-22.png)

## 9.4 Напишіть програму, яка по черзі виконує команди whoami та id
### Умова 
 Напишіть програму, яка по черзі виконує команди whoami та id, щоб перевірити стан облікового запису користувача, від імені якого вона запущена.
 Є ймовірність, що команда id виведе список різних груп, до яких ви належите. Програма повинна це продемонструвати.

### Пояснення
Програма послідовно виконує команди whoami та id, щоб показати, під яким користувачем вона запущена, і до яких груп цей користувач належить. Функція system() використовується для запуску цих команд безпосередньо з коду. Таким чином, можна швидко отримати інформацію про обліковий запис користувача та його права в системі.

### [КОД](task9.4/main.c)<br>
![](task9.4/Screenshot%20from%202025-05-17%2016-57-59.png)<br>

## 9.5  тимчасовий файл від імені звичайного користувача.
### Умова 
 Напишіть програму, яка створює тимчасовий файл від імені звичайного користувача. Потім від імені суперкористувача використовує команди chown і chmod, щоб змінити тип володіння та права доступу.
 Програма повинна визначити, в яких випадках вона може виконувати читання та запис файлу, використовуючи свій обліковий запис.

### Пояснення
Програма спочатку створює тимчасовий файл від імені звичайного користувача. Потім через команду sudo змінює власника файлу на root і встановлює права доступу 600 (читання і запис тільки для власника). Після цього програма перевіряє, чи може вона читати і записувати цей файл, використовуючи свій звичайний обліковий запис.

Оскільки власником став root і права доступу обмежені, звичайний користувач не зможе записувати в файл, а читання залежить від налаштувань системи. Програма демонструє, як зміна власника і прав впливає на можливість роботи з файлом.

### [КОД](task9.5/main.c)<br>
![](task9.5/Screenshot%20from%202025-05-17%2017-02-09.png)

## 9.6 напишіть програму, яка виконує команду ls -l,
### Умова 
 Напишіть програму, яка виконує команду ls -l, щоб переглянути власника і права доступу до файлів у своєму домашньому каталозі, в /usr/bin та в /etc.
 Продемонструйте, як ваша програма намагається обійти різні власники та права доступу користувачів, а також здійснює спроби читання, запису та виконання цих файлів.


### Пояснення
Програма виконує команду ls -l для перегляду прав доступу та власників файлів у трьох директоріях: домашній каталог користувача, /usr/bin і /etc. Для наочності показується лише кілька файлів із системних каталогів.
Далі програма перевіряє права доступу (читання, запис і виконання) для трьох важливих файлів: /etc/passwd, /usr/bin/ls і /etc/shadow. За допомогою функції access() визначається, чи має користувач права читати, писати або виконувати ці файли.
Це демонструє, як різні права та власники впливають на можливості роботи з файлами в системі і показує спроби обійти обмеження доступу користувача.

### [КОД](task9.6/main.c)<br>
![](task9.6/Screenshot%20from%202025-05-17%2017-06-09.png)
![](task9.6/Screenshot%20from%202025-05-17%2017-06-16.png)
![](task9.6/Screenshot%20from%202025-05-17%2017-06-24.png)


# Завдання по ВАРІАНТАХ
## 4. файл із нестандартними правами доступу
### Умова 
Створіть файл із нестандартними правами доступу та перевірте його поведінку в різних файлових системах (ext4, tmpfs, NFS).

### Пояснення
Було досліджено поведінку файлів із нестандартними правами доступу (SUID, SGID, sticky bit) у двох типах локальних файлових систем: ext4 і tmpfs. Файлова система ext4 є типовою для жорстких дисків і зберігає дані постійно, тоді як tmpfs працює у пам’яті (RAM) і є тимчасовою, тобто втрачає дані після перезавантаження.
У ext4 файлах з нестандартними правами доступу працюють усі механізми безпеки: права зберігаються на диску, SUID і SGID дозволяють запускати файли з правами власника чи групи, а sticky bit обмежує видалення файлів у спільних директоріях. Права доступу легко перевіряються і застосовуються системою.
У tmpfs, як у файловій системі в пам’яті, права доступу також підтримуються, але оскільки система тимчасова, файли існують тільки під час роботи системи. Тут також коректно працюють SUID, SGID і sticky bit, що дозволяє імітувати поведінку файлової системи ext4 для тестування прав.
Відсутність доступу до NFS у системі унеможливила тестування мережевої файлової системи, яка може мати власні особливості в роботі з правами доступу та їхньою підтримкою, зокрема залежно від сервера і клієнта.
Підсумовуючи, ext4 і tmpfs коректно підтримують спеціальні права доступу, але tmpfs є тимчасовою і підходить для швидкого тестування, тоді як ext4 підходить для зберігання постійних даних. Відсутність NFS ускладнила повну перевірку, але в локальних умовах права поводяться відповідно до очікувань.


